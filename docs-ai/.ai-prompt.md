# 🤖 AI Assistant Quick Reference

**Đây là gợi ý cho AI assistants khi làm việc với project này.**

## 📖 Bắt đầu Session mới

Khi bắt đầu session hoặc cần context về project:

```
1. Đọc docs-ai/INDEX.md - Overview của tất cả docs
2. Đọc docs-ai/PROJECT_OVERVIEW.md - Hiểu project làm gì
3. Đọc docs-ai/TECH_STACK.md - Biết tech đang dùng
4. Check docs-ai/fixes/ - Xem các issues đã biết
```

## 🎯 Theo Task

### Fixing Bugs
```bash
# Check known fixes first
cd docs-ai/fixes/
ls *.md

# Common issues:
- FIX_LOGIN_ISSUE.md - Session/auth problems
- FIX_MIDDLEWARE_ERROR.md - Middleware errors
- FIX_REVOKE_SESSIONS_FAILED.md - Session revocation
```

### Adding Features
```bash
# Check existing patterns
cd docs-ai/features/
ls *.md

# Follow patterns in existing features
```

### Setup/Config
```bash
# Check guides
cd docs-ai/guides/
ls *.md
```

## 💡 Best Practices

### DO
- ✅ Read relevant docs BEFORE writing code
- ✅ Follow patterns in existing docs
- ✅ Update docs when making changes
- ✅ Create new doc for major features
- ✅ Check fixes/ for similar issues

### DON'T
- ❌ Skip reading docs (waste time later)
- ❌ Duplicate existing solutions
- ❌ Ignore known issues
- ❌ Make breaking changes without documenting
- ❌ Use deprecated patterns

## 🔍 Quick Search

```bash
# Find info about topic
grep -r "authentication" docs-ai/

# Find all TODOs
grep -r "TODO" docs-ai/

# List all fixes
ls docs-ai/fixes/

# Find specific error
grep -r "refresh_token_not_found" docs-ai/
```

## 📝 Common Commands

### Read Overview
```bash
cat docs-ai/PROJECT_OVERVIEW.md
```

### Check Tech Stack
```bash
cat docs-ai/TECH_STACK.md
```

### List All Docs
```bash
find docs-ai -name "*.md" | sort
```

### Search in Docs
```bash
grep -r "keyword" docs-ai/
```

## 🚨 Critical Info

### Session Management
- **NEVER use singleton patterns** - See FIX_LOGIN_ISSUE.md
- Always create fresh client per request
- Cookies are httpOnly, handled by Supabase SSR

### Middleware
- Public paths (login, register) - No redirect
- Protected paths - Redirect to login
- Auto-clear invalid tokens - See FIX_MIDDLEWARE_ERROR.md

### Database
- Row Level Security (RLS) enabled
- Admins can view all (special policies)
- Users only see their organization data

### APIs
- All protected by middleware
- Service role key for admin operations
- Type-safe with generated types

## 📚 Documentation Structure

```
docs-ai/
├── README.md              # Hub - start here
├── INDEX.md               # Navigation - find docs
├── PROJECT_OVERVIEW.md    # What is this project?
├── TECH_STACK.md          # What tech we use?
├── ARCHITECTURE.md        # How it's built? (TODO)
│
├── features/              # Feature documentation
│   ├── API_AUTO_FEATURE.md
│   ├── API_RUNNER.md (TODO)
│   └── TICKET_MANAGEMENT.md (TODO)
│
├── fixes/                 # Bug fixes & solutions
│   ├── FIX_LOGIN_ISSUE.md (TODO)
│   ├── FIX_MIDDLEWARE_ERROR.md (TODO)
│   └── FIX_REVOKE_SESSIONS_FAILED.md (TODO)
│
├── guides/                # How-to guides
│   ├── FORCE_LOGOUT_GUIDE.md (TODO)
│   ├── DEVELOPMENT_SETUP.md (TODO)
│   └── DEPLOYMENT.md (TODO)
│
└── api/                   # API documentation
    ├── AUTHENTICATION.md (TODO)
    ├── TICKETS_API.md (TODO)
    └── TOOLS_API.md (TODO)
```

## 🎓 Learning Path

**For new AI session:**
1. Start: INDEX.md
2. Understand: PROJECT_OVERVIEW.md
3. Tech: TECH_STACK.md
4. Issues: Check fixes/
5. Task-specific: Read relevant docs

**For specific tasks:**
- Auth work → api/AUTHENTICATION.md + fixes/FIX_LOGIN_ISSUE.md
- UI work → TECH_STACK.md (check component library)
- Database → PROJECT_OVERVIEW.md (schema section)
- Deployment → guides/DEPLOYMENT.md

## ⚡ Pro Tips

1. **Always check fixes/ first** - Don't reinvent solutions
2. **Follow existing patterns** - Check features/ for examples
3. **Update docs when coding** - Keep knowledge fresh
4. **Cross-reference docs** - Link related information
5. **Use examples** - Code snippets > long explanations

## 🔗 External Resources

- **Supabase Docs**: https://supabase.com/docs
- **Next.js Docs**: https://nextjs.org/docs
- **TypeScript Docs**: https://www.typescriptlang.org/docs
- **Tailwind CSS**: https://tailwindcss.com/docs

---

**Remember**: These docs exist to make YOUR job easier. Use them! 🚀
